<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Dashboard de Pozos</title>
  <!-- Estilos generales -->
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Encabezado principal con título, controles y tarjetas KPI -->
  <header id="header">
    <!-- Fila superior con título y controles -->
    <div id="header-top" class="header-top">
      <div class="header-left">
        <h1>Dashboard de Pozos</h1>
      </div>
      <!-- Control de tema oscuro/claro y botón de configuración -->
      <div id="controlsHeader">
        <label class="theme-switch">
          <input type="checkbox" id="themeToggle" aria-label="Activar modo oscuro">
          <span class="slider"></span>
          <span class="switch-label">Modo oscuro</span>
        </label>
        <button id="settingsButton" class="settings-button" aria-label="Configuración">⚙︎</button>
      </div>
    </div>
    <!-- Contenedor para las tarjetas KPI generado dinámicamente (fila separada) -->
    <div id="kpi-row">
      <div id="kpi-container"></div>
    </div>
  </header>

  <!-- Contenedor principal del contenido -->
  <main id="main">
    <!-- Contenedor de mensajes de error -->
    <div id="error" class="error" hidden></div>
    <!-- Controles heredados eliminados; la selección se gestiona desde el modal -->
    <input type="checkbox" id="autoScrollToggle" style="display:none;" aria-hidden="true">
    <!-- Contenedor de las tablas generadas a partir de los pozos -->
    <div id="tables-wrapper"></div>
  </main>

  <!-- Modal de configuración para seleccionar pozos y auto-scroll -->
  <div id="settingsModal" class="modal" aria-hidden="true">
    <div class="modal-content">
      <button id="closeSettings" class="close-modal" aria-label="Cerrar">×</button>
      <h2>Configuración</h2>
      <!-- Sección de pozos visibles -->
      <div class="settings-section">
        <h3>Pozos visibles</h3>
        <p class="settings-tip">Siempre queda al menos un pozo visible.</p>
        <div id="modalWellControls"></div>
      </div>
      <!-- Sección de auto desplazamiento -->
      <div class="settings-section">
        <h3>Auto desplazamiento</h3>
        <label class="auto-scroll-label">
          <input type="checkbox" id="modalAutoScrollToggle">
          Auto desplazamiento
        </label>
      </div>
      <!-- Sección para personalizar tarjetas de stock -->
      <div class="settings-section">
        <h3>Tarjetas de stock</h3>
        <p class="settings-tip">Elige los ítems de stock a mostrar en el pie.</p>
        <div id="modalStockControls"></div>
      </div>
      <!-- Acciones -->
      <div class="settings-actions">
        <button id="resetSettings" class="settings-reset">Restablecer</button>
        <button id="saveSettings" class="settings-save">Guardar</button>
      </div>
    </div>
  </div>

  <!-- Pie de página que se mostrará solo si hay información específica -->
  <footer id="footer" hidden>
    <div id="footerContent"></div>
  </footer>

  <!-- Lógica del lado del cliente para manejar datos y eventos -->
  <script src="script.js"></script>
</body>
</html>
